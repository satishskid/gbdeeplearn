---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCourseCatalog } from '../../lib/academyData';

const courses = await getCourseCatalog();
---

<BaseLayout
  title="GreyBrain Courses | Healthcare AI Catalog"
  description="Explore GreyBrain healthcare AI courses for doctors, researchers, and healthcare entrepreneurs."
  canonical="https://gbdeeplearn.pages.dev/courses"
>
  <section class="mb-8 rounded-[2rem] bg-slate-950 px-6 py-8 text-white shadow-2xl md:px-8 md:py-10">
    <p class="mb-3 inline-flex rounded-full bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-[0.15em] text-cyan-100">
      Course Catalog
    </p>
    <h1 class="text-3xl font-extrabold leading-tight md:text-4xl">All GreyBrain Healthcare AI Courses</h1>
    <p class="mt-3 max-w-3xl text-sm text-slate-200 md:text-base">
      Standardized course pages with outcomes, syllabus signals, and enrollment actions.
    </p>
  </section>

  <section class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
    {courses.map((course) => (
      <article class="rounded-2xl border border-slate-200 bg-white/80 p-4 shadow-md backdrop-blur-sm">
        <h2 class="text-lg font-bold text-slate-900 line-clamp-2">{course.name}</h2>
        <p class="mt-2 text-sm text-slate-600 line-clamp-4">{course.shortDescription}</p>
        <p class="mt-2 text-xs text-slate-500">
          {course.lessonCount > 0 ? `${course.lessonCount} lessons` : 'Structured curriculum'}{course.rating > 0 ? ` â€¢ ${course.rating}/10 rating` : ''}
        </p>
        <div class="mt-4 flex flex-wrap gap-2">
          <a href={`/courses/${course.slug}`} class="rounded-xl border border-slate-300 px-3 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50">
            View Details
          </a>
          <a
            href={course.academyUrl}
            target="_blank"
            rel="noreferrer"
            class="rounded-xl bg-slate-900 px-3 py-2 text-sm font-semibold text-white transition hover:bg-slate-800"
          >
            Enroll
          </a>
        </div>
      </article>
    ))}
  </section>
</BaseLayout>
